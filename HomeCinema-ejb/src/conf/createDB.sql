CREATE TABLE PRODUCTS (ID_PRODUCT BIGINT NOT NULL, ADD_DATE DATE, NAME VARCHAR(255), NB_SALES INTEGER, PRICE FLOAT, STATE_ INTEGER, PRIMARY KEY (ID_PRODUCT))
CREATE TABLE GENRES (ID_GENRE BIGINT NOT NULL, NAME VARCHAR(255), PRIMARY KEY (ID_GENRE))
CREATE TABLE VIDEOS (ID_VIDEO BIGINT NOT NULL, RESOLUTION INTEGER, URL VARCHAR(255), VIDEO_FILES BIGINT, PRIMARY KEY (ID_VIDEO))
CREATE TABLE CADDY (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE FILMS (ID_FILM BIGINT NOT NULL, COVER_ID VARCHAR(255), OVERVIEW VARCHAR(5000), RATING FLOAT, RELEASE_DATE DATE, RUNTIME INTEGER, TITLE VARCHAR(255), MAIN_PRODUCT BIGINT, TRAILLER BIGINT, PRIMARY KEY (ID_FILM))
CREATE TABLE USERS_FILMS (ID_USERSFILMS BIGINT NOT NULL, CURRENT_POSITION INTEGER, STATE_ INTEGER, FILM BIGINT, USER_ BIGINT, PRIMARY KEY (ID_USERSFILMS))
CREATE TABLE TRANSACTIONS (ID_TRANSACTION BIGINT NOT NULL, ADD_DATE DATE, BANK_TRANS_NUM BIGINT, STATE_ INTEGER, TOTAL_PRICE FLOAT, USER_ BIGINT, PRIMARY KEY (ID_TRANSACTION))
CREATE TABLE COUNTRIES (ID_COUNTRY BIGINT NOT NULL, NAME VARCHAR(255), PRIMARY KEY (ID_COUNTRY))
CREATE TABLE PERSONS (ID_PERSON BIGINT NOT NULL, NAME VARCHAR(255), PRIMARY KEY (ID_PERSON))
CREATE TABLE USER_ (ID_USER BIGINT NOT NULL, ADD_DATE DATE, BIRTH_DATE DATE, EMAIL VARCHAR(255) NOT NULL UNIQUE, FIRST_NAME VARCHAR(255), LAST_NAME VARCHAR(255), NICK_NAME VARCHAR(255) NOT NULL UNIQUE, PASSWORD VARCHAR(255), STATE_ INTEGER, CADDY BIGINT, PRIMARY KEY (ID_USER))
CREATE TABLE FILMS_PRODUCTS (products_ID_PRODUCT BIGINT NOT NULL, films_ID_FILM BIGINT NOT NULL, PRIMARY KEY (products_ID_PRODUCT, films_ID_FILM))
CREATE TABLE CADDY_PRODUCTS (Caddy_ID BIGINT NOT NULL, products_ID_PRODUCT BIGINT NOT NULL, PRIMARY KEY (Caddy_ID, products_ID_PRODUCT))
CREATE TABLE ACTORS (is_actor_of_ID_FILM BIGINT NOT NULL, actors_ID_PERSON BIGINT NOT NULL, PRIMARY KEY (is_actor_of_ID_FILM, actors_ID_PERSON))
CREATE TABLE FILMS_COUNTRIES (Film_ID_FILM BIGINT NOT NULL, countries_ID_COUNTRY BIGINT NOT NULL, PRIMARY KEY (Film_ID_FILM, countries_ID_COUNTRY))
CREATE TABLE DIRECTORS (is_director_of_ID_FILM BIGINT NOT NULL, directors_ID_PERSON BIGINT NOT NULL, PRIMARY KEY (is_director_of_ID_FILM, directors_ID_PERSON))
CREATE TABLE FILMS_GENRES (Film_ID_FILM BIGINT NOT NULL, genre_ID_GENRE BIGINT NOT NULL, PRIMARY KEY (Film_ID_FILM, genre_ID_GENRE))
CREATE TABLE TRANSACTIONS_PRODUCTS (Transaction_ID_TRANSACTION BIGINT NOT NULL, products_ID_PRODUCT BIGINT NOT NULL, PRIMARY KEY (Transaction_ID_TRANSACTION, products_ID_PRODUCT))
ALTER TABLE VIDEOS ADD CONSTRAINT VIDEOS_VIDEO_FILES FOREIGN KEY (VIDEO_FILES) REFERENCES FILMS (ID_FILM)
ALTER TABLE FILMS ADD CONSTRAINT FILMS_MAIN_PRODUCT FOREIGN KEY (MAIN_PRODUCT) REFERENCES PRODUCTS (ID_PRODUCT)
ALTER TABLE FILMS ADD CONSTRAINT FK_FILMS_TRAILLER FOREIGN KEY (TRAILLER) REFERENCES VIDEOS (ID_VIDEO)
ALTER TABLE USERS_FILMS ADD CONSTRAINT USERS_FILMS_FILM FOREIGN KEY (FILM) REFERENCES FILMS (ID_FILM)
ALTER TABLE USERS_FILMS ADD CONSTRAINT USERS_FILMS_USER_ FOREIGN KEY (USER_) REFERENCES USER_ (ID_USER)
ALTER TABLE TRANSACTIONS ADD CONSTRAINT TRANSACTIONS_USER_ FOREIGN KEY (USER_) REFERENCES USER_ (ID_USER)
ALTER TABLE USER_ ADD CONSTRAINT FK_USER__CADDY FOREIGN KEY (CADDY) REFERENCES CADDY (ID)
ALTER TABLE FILMS_PRODUCTS ADD CONSTRAINT FLMSPRprdctsDPRDCT FOREIGN KEY (products_ID_PRODUCT) REFERENCES PRODUCTS (ID_PRODUCT)
ALTER TABLE FILMS_PRODUCTS ADD CONSTRAINT FLMSPRDCTSflmsDFLM FOREIGN KEY (films_ID_FILM) REFERENCES FILMS (ID_FILM)
ALTER TABLE CADDY_PRODUCTS ADD CONSTRAINT CDDYPRODUCTSCddyID FOREIGN KEY (Caddy_ID) REFERENCES CADDY (ID)
ALTER TABLE CADDY_PRODUCTS ADD CONSTRAINT CDDYPRprdctsDPRDCT FOREIGN KEY (products_ID_PRODUCT) REFERENCES PRODUCTS (ID_PRODUCT)
ALTER TABLE ACTORS ADD CONSTRAINT CTORSctorsIDPERSON FOREIGN KEY (actors_ID_PERSON) REFERENCES PERSONS (ID_PERSON)
ALTER TABLE ACTORS ADD CONSTRAINT CTORSsctorofIDFILM FOREIGN KEY (is_actor_of_ID_FILM) REFERENCES FILMS (ID_FILM)
ALTER TABLE FILMS_COUNTRIES ADD CONSTRAINT FLMSCNTcntrsDCNTRY FOREIGN KEY (countries_ID_COUNTRY) REFERENCES COUNTRIES (ID_COUNTRY)
ALTER TABLE FILMS_COUNTRIES ADD CONSTRAINT FLMSCNTRIESFlmDFLM FOREIGN KEY (Film_ID_FILM) REFERENCES FILMS (ID_FILM)
ALTER TABLE DIRECTORS ADD CONSTRAINT DRCTRSdrctrsDPRSON FOREIGN KEY (directors_ID_PERSON) REFERENCES PERSONS (ID_PERSON)
ALTER TABLE DIRECTORS ADD CONSTRAINT DRCTRSsdrctrfDFILM FOREIGN KEY (is_director_of_ID_FILM) REFERENCES FILMS (ID_FILM)
ALTER TABLE FILMS_GENRES ADD CONSTRAINT FLMSGENRESFlmDFILM FOREIGN KEY (Film_ID_FILM) REFERENCES FILMS (ID_FILM)
ALTER TABLE FILMS_GENRES ADD CONSTRAINT FLMSGNRESgnrDGENRE FOREIGN KEY (genre_ID_GENRE) REFERENCES GENRES (ID_GENRE)
ALTER TABLE TRANSACTIONS_PRODUCTS ADD CONSTRAINT TRNSCTprdctsDPRDCT FOREIGN KEY (products_ID_PRODUCT) REFERENCES PRODUCTS (ID_PRODUCT)
ALTER TABLE TRANSACTIONS_PRODUCTS ADD CONSTRAINT TRNTrnsctnDTRNSCTN FOREIGN KEY (Transaction_ID_TRANSACTION) REFERENCES TRANSACTIONS (ID_TRANSACTION)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(15), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
