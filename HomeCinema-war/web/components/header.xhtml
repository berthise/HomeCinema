<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ez="http://xmlns.jcp.org/jsf/composite/ezcomp">

    <h:body>
        <ui:composition>
            <f:view locale="#{languageManagedBean.localeCode}" />
            <header>
                <div id="banner">
                    <div id="logo">
                        <a href="#{msg['page-index']}.xhtml">
                            <img src="img/logo.png" />
                        </a>
                    </div>
                    <div id="banner-img">
                        <img src="img/bann.png" />
                    </div>
                    <div class="userTools">
                        <c:choose>
                            <c:when test="#{sessionManagedBean.firstName == null}" >
                                <a href="#" id="login" tabindex="100"><h:outputText value="#{msg['connexion']}"/></a> | 
                                <a href="#{msg['page-signup']}.xhtml" id="signup" tabindex="110"><h:outputText value="#{msg['inscription']}" /></a> |
                                <ez:lang />
                            </c:when>
                            <c:otherwise>
			      <span class="decale-right" style="color: white;"> <h:outputText value="#{msg['header-welcome']}" /> "<b>#{sessionManagedBean.firstName}</b>" </span> | 
                                <a href="#{msg['page-account']}.xhtml" title="#{msg['header-voircompte']}">
                                    <i class="glyphicon glyphicon-folder-open"></i>
				    <span class="badge">#{sessionManagedBean.filmsSize}</span>
                                </a> |
                                <a href="#{msg['page-account']}.xhtml#caddie" title="#{msg['header-voircaddie']}">
                                    <i class="glyphicon glyphicon-shopping-cart"></i>
				    <span class="badge">#{sessionManagedBean.caddySize}</span>
				    <!--(#{sessionManagedBean.caddySize})-->
                                </a> |
                                <h:form>
                                    <h:commandLink action="#{sessionManagedBean.logout}" value="#{msg['deconnexion']}" />
                                </h:form> |
                                <ez:lang />
                            </c:otherwise>
                        </c:choose>
                    </div>
                    <div class="col-md-2 col-19 col-size-fixed" id="form-login">
                        <ez:login  short="true" tabidx="1000" />
                    </div> <!-- /#form-login -->
                </div>
                <!-- Fixed navbar -->
                <nav id="header" class="navbar navbar-default navbar-static-top navbar-noborder" role="navigation">
                    <div class="container">
                        <div class="navbar-header">
			  <form>
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
			  </form>
                        </div>
			<div id="navbar" class="navbar-collapse collapse">
			    <h:form>
				<ul class="nav navbar-nav">
				    <li class="#{(active == 'index')? 'active' : ''}"><a href="#{msg['page-index']}.xhtml"><i class="decale-right glyphicon glyphicon-home"></i><span><h:outputText value="#{msg['menu-accueil']}" /></span></a></li>
				    <li class="#{(active == 'films')? 'active' : ''}">
					<h:commandLink action="#{listProductsManagedBean.setPage1AndRedirect()}">
					    <i class="decale-right glyphicon glyphicon-facetime-video"></i><span><h:outputText value="#{msg['menu-films']}" /></span>
					</h:commandLink>
				    </li>
				    <li class="#{(active == 'faq')? 'active' : ''}"><a href="#{msg['page-faq']}.xhtml"><i class="decale-right glyphicon glyphicon-info-sign"></i><span><h:outputText value="#{msg['menu-faq']}" /></span></a></li>
				    <h:panelGroup rendered="#{sessionManagedBean.id == null}">
					<li class="#{(active == 'demo')? 'active' : ''}"><a href="#{msg['page-demo']}.xhtml"><i class="decale-right glyphicon glyphicon-wrench"></i><span><h:outputText value="#{msg['menu-demo']}" /></span></a></li>
				    </h:panelGroup>
				    <h:panelGroup rendered="#{sessionManagedBean.id != null}">
					<li class="#{(active == 'moncompte')? 'active' : ''}"><a href="#{msg['page-account']}.xhtml"><i class="decale-right glyphicon glyphicon-folder-open"></i> <span><h:outputText value="#{msg['menu-compte']}" /></span></a></li>
				    </h:panelGroup>
				</ul>              
			    </h:form>

                            <ul class="nav navbar-nav navbar-right animated" style="display: none;">
                                <h:panelGroup rendered="#{sessionManagedBean.id == null}">
				    <li class="#{(active == 'login')? 'active' : ''}"><a href="#{msg['page-login']}.xhtml" onclick="toHttps"><i class="decale-right glyphicon glyphicon-hand-right"></i><h:outputText value="#{msg['connexion']}" /></a></li>
                                    <li class="#{(active == 'signup')? 'active' : ''}"><a href="#{msg['page-signup']}.xhtml"><i class="decale-right glyphicon glyphicon-list"></i><h:outputText value="#{msg['inscription']}" /></a></li>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{sessionManagedBean.id != null}">
                                    <li>
                                        <a href="#{msg['page-account']}.xhtml#caddie" title="#{msg['header-voircaddie']}">
                                            <i class="glyphicon glyphicon-shopping-cart" />#{msg['caddie']}
                                            <span class="badge">#{sessionManagedBean.caddySize}</span>
                                        </a>
                                    </li>
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                                                
                                            <i class="glyphicon glyphicon-user"></i>
                                            #{sessionManagedBean.firstName} <span class="caret"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <h:form>
                                                    <h:commandLink action="#{sessionManagedBean.logout}">
                                                        <i class="glyphicon glyphicon-off"></i>#{msg['deconnexion']}
                                                    </h:commandLink>
                                                </h:form>
                                            </li>
                                        </ul>
                                    </li>
                                </h:panelGroup>
                            </ul>
                            <form class="navbar-form navbar-right" role="search" id="search-form" action="#{msg['page-films']}.xhtml">
                                <div class="input-group">
                                    <input type="hidden" name="tab" value="search" />
                                    <input type="search" class="form-control" placeholder="#{msg['menu-recherche']}" name="title"/>
                                    <div class="input-group-btn">
                                        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                                    </div>
                                </div>
                            </form>
                        </div><!--/.nav-collapse -->
                    </div>
                </nav>
            </header>
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js"></script>
            <script src="js/vendor/bootstrap.min.js"></script>
            <script src="js/main.js"></script>

            <div class="messages container">
                <h:messages globalOnly="true" infoClass="alert alert-success" errorClass="alert alert-danger"
                            fatalClass="alert alert-danger" warnClass="alert alert-warning">
                </h:messages>
                <!--styleClass="alert alert-success"-->
            </div>
        </ui:composition>
    </h:body>
</html>
